<!DOCTYPE html>
<html lang="en">



<head>
    <meta name="description" content="Learn Game Maker fundamentals in this tutorial.">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10 Bombs</title>
    
   <meta name="title" content="10 Bombs ">

<meta name="author" content="StarsInDust ">
<meta name="Designer" content="StarsInDust ">

<meta name="keywords" content=" Game Maker, Games, Programming "/>


<meta name="description" content="In this article, we will be looking at how to write the code, for some bombs. We will be focusing on how to create a good bomb that we can pick up and throw, like for hitting an enemy, when we have one."/>

<meta name="category" content="Game Maker, Games Programming">

<meta name="rating" content="General">


<meta name="robots" content="index,follow" />

<meta name="revised" content="1/1/2026" />

<meta name="url" content=" https://starsindust.github.io/ Enlightenment/Articles/2026/2_Game_Maker_2/10_Bombs/10_Bombs.html">




 
 
    
    
    <link rel="shortcut icon" href="../../../../Images/favicon.ico" type="image/x-icon">


    

<link href="../../../../CSS/myStyles.css" rel="stylesheet" type="text/css">
<link href="../../../../CSS/DarkOnLight.css" rel="stylesheet" type="text/css">


<style type="text/css">
  /* Add custom styles here if needed */
</style>


<style type="text/css">
<!--
p.RecipeHeading {
margin-top:0in;
margin-right:0in;
margin-bottom:10.0pt;
margin-left:0in;
line-height:115%;
font-size:14.0pt;
font-family:"Calibri",sans-serif;
color:#8496B0;
font-style:italic;
}
p.RecipeeBody {
margin-top:0in;
margin-right:0in;
margin-bottom:10.0pt;
margin-left:0in;
line-height:115%;
font-size:14.0pt;
font-family:"Calibri",sans-serif;
color:#2F5496;
font-weight:bold;
}
-->
</style>
</head>


<body>

<div class="wrapper">
<header class="header">
    <meta name="description" content="Learn web design fundamentals in this tutorial.">Header</header>
  
  <ul class="navigation">
   <li><a href="../../../../index.html" class="active"title="Home">Home</a></li>
  <li><a href="../../../../Articles-This-Week.html" class="active"title="Articles This Week">&#9729;</a></li>
  <li><a href="../../../../Articles-By-Year.html" title= "Articles By Year">Articles By Year</a></li>
  <li><a href="../../../../About.html" title="About">About</a></li>
</ul>

<div class = "backgroundBlack"> <p class="h2Silver"><span class="h2Gold"><span class="h2Gold">~Articles This Week~</span></span></p></div>

<article class="main">
  
  
  
  <!--Main Article -->
  
  <p class="h2Black" >~10 Bombs~</p>
  
  
  <p class="author">By StarsInDust</p> 
  
   <p class="articleDate" style="text-align:right" >3/16/2026</p>
   
<p>&nbsp;</p>
<img src="Images/1.png" width="287" height="254">
<p class="MsoNormal">At this stage of the game, our bomb throwing seems to be a  bit luke warm, lets spice it up. We can add another bomb type, by adding the  bomb_thrown</p>
<img src="Images/2.png" width="623" height="338">
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">This is my sprite image, I just added a few motion lines</p>
<img src="Images/3.png" width="277" height="326">
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">Now make your sprite and your object for this. This should  be a familiar process for you now. This bomb object is different from your  other items, because it will be doing some special stuff like moving across the  screen, as if it is thrown by the hero. There fore instead of being created by  either a script or the controller object, it will have its code directly placed  inside of the bomb object itself. </p>
<p class="MsoNormal">The bomb thrown object will have several events associated  with it&rsquo;s object. In fact, we will be adding 5 different types of Events,  in total to this element.</p>
<ul style="margin-top:0in;" type="disc">
  <li class="MsoNormal" style="margin-bottom:0in;"><strong>Create Event</strong>&nbsp;→ Lines about move_speed,       direction, alarm</li>
  <li class="MsoNormal" style="margin-bottom:0in;"><strong>Step Event</strong>&nbsp;→ Lines about movement and       wall collision</li>
  <li class="MsoNormal" style="margin-bottom:0in;"><strong>Alarm 0 Event</strong>&nbsp;→ Lines about explosion       timer</li>
  <li class="MsoNormal" style="margin-bottom:0in;"><strong>Draw Event</strong>&nbsp;→ Lines about draw_self       (optional)</li>
  <li class="MsoNormal" style="margin-bottom:0in;"><strong>Outside Room Event</strong>&nbsp;→ instance_destroy()</li>
</ul>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">So, in the <strong><span style="font-family:'Calibri',sans-serif; ">obj_bomb_thrown</span></strong>,  write this code.</p>
<p class="RecipeHeading">//~~~~~~~~~~~~~~~~~~~~OBJECT BOMB THROWN  ~~~~~~~~~~~~~~~~~~</p>
<p class="MsoNormal">&nbsp;</p>
<p class="code"><a name="_Hlk217900968">&nbsp;</a></p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">//  ~~~~~~~~~~~~~~~~~~~~~~~ CREATE EVENT ~~~~~~~~~~~~~~~~~~~~~~~~~~</p>
<p class="code"><strong><span style="color:#00B050; ">// Set movement speed and direction</span></strong></p>
<p class="code">move_speed = 8;  <span style="color:#00B050; ">// How fast the  bomb flies</span></p>
<p class="code">direction = 0;   <strong><span style="color:#00B050; ">// Will be  set when created (0=right, 90=up, 180=left, 270=down)</span></strong></p>
<p class="code">image_angle =  direction;  <strong><span style="color:#00B050; ">//  Rotate sprite to match direction</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// Optional: Add a timer before explosion</span></strong></p>
<p class="code">alarm[0] = 240;  <strong><span style="color:#00B050; ">// Explodes  after 240 steps (4 seconds at 60fps)</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">// Optional: Visual  trail effect</p>
<p class="code">image_alpha = 1;</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// Debug</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Bomb created at (&quot; +  string(x) + &quot;, &quot; + string(y) + &quot;)&quot;);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">// ~~~~~~~~~~~~~~~~~~~~~~~~~~  STEP EVENT ~~~~~~~~~~~~~~~~~~~~~~~~~~</p>
<p class="code"><strong><span style="color:#00B050; ">// </span></strong><span style="color:#00B050; ">Move the bomb</span></p>
<p class="code">x +=  lengthdir_x(move_speed, direction);</p>
<p class="code">y +=  lengthdir_y(move_speed, direction);</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Check  collision with walls</span></strong></p>
<p class="code">if (place_meeting(x, y,  obj_wall_plain) || </p>
<p class="code">    place_meeting(x, y, obj_wall_crackedA) || </p>
<p class="code">    place_meeting(x, y, obj_wall_crackedB)) {</p>
<p class="code">    </p>
<p class="code"><strong><span style="color:#00B050; ">    //</span></strong><span style="color:#00B050; "> <strong>Hit a wall - explode!</strong></span></p>
<p class="code">    show_debug_message(&quot;Bomb hit wall at  (&quot; + string(x) + &quot;, &quot; + string(y) + &quot;) - DESTROYING&quot;);</p>
<p class="code">    </p>
<p class="code">    <em><span style="color:#00B050; ">//</span></em> <strong><span style="color:#00B050; ">Create explosion effect here (optional)</span></strong></p>
<p class="code">    <strong><span style="color:#2F5496; ">// instance_create_layer(x, y,  &quot;Instances&quot;, obj_explosion);</span></strong></p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Destroy  the bomb</span></strong></p>
<p class="code">    instance_destroy();</p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// Optional: Check collision with enemies (when you add  them)</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">// var enemy =  instance_place(x, y, obj_enemy);</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">// if (enemy !=  noone) {</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">//     instance_destroy(enemy);</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">//     instance_destroy();</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">// }</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">// ~~~~~~~~~ ALARM  0 EVENT (Optional timer-based explosion) ~~~~~~~~~~~</p>
<p class="code"><strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Bomb  explodes after timer runs out</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Bomb exploded by TIMER at  (&quot; + string(x) + &quot;, &quot; + string(y) + &quot;) - DESTROYING&quot;);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// Optional: Damage nearby objects</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">// var  explosion_radius = 64;</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">// var  nearby_enemies = ds_list_create();</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">//  collision_circle_list(x, y, explosion_radius, obj_enemy, false, true,  nearby_enemies, false);</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">// for (var i =  0; i &lt; ds_list_size(nearby_enemies); i++) {</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">//     instance_destroy(nearby_enemies[| i]);</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">// }</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">//  ds_list_destroy(nearby_enemies);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// Create explosion effect (optional)</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">//  instance_create_layer(x, y, &quot;Instances&quot;, obj_explosion);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">instance_destroy();</p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">// ~~~~~~~~~~    DRAW EVENT (Optional - add visual flair)  ~~~~~~~~~~~~~~~~</p>
<p class="code"><strong><span style="color:#00B050; ">// Draw the bomb sprite with optional effects</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">draw_self();</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// Optional: Draw a shadow</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">//  draw_sprite_ext(sprite_index, image_index, x + 2, y + 2, image_xscale,  image_yscale, image_angle, c_black, 0.3);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">// ~~~~~~~~~~~~~~    OUTSIDE ROOM EVENT (Optional)  ~~~~~~~~~~~~~~~~~~</p>
<p class="MsoNormal"><strong><span style="color:#00B050; ">// You will need to select </span><span style="color:black; ">&lsquo;Other&rsquo; </span><span style="color:#00B050; ">in the  event dropdown to find this outside room event</span></strong></p>
<p class="code"><strong><span style="color:#00B050; ">// Destroy if it leaves the room</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">show_debug_message(&quot;Bomb  left room - DESTROYING&quot;);</span></strong></p>
<p class="code">instance_destroy();<strong><span style="color:#2F5496; "> </span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">&nbsp;</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">&nbsp;</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">&nbsp;</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">&nbsp;</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">&nbsp;</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">&nbsp;</span></strong></p>
<p class="RecipeHeading">//~~~~~~~~~~~~~~~~~~~~~~~~~Hero Step Event  ~~~~~~~~~~~~~~~~~~~~~~</p>
<p class="RecipeeBody">//~~~~~~~~~~ UPDATED HERO STEP EVENT  ~~~~~~~~~~~~~~~~~~~~~~~~</p>
<p class="code"><strong><span style="color:#00B050; ">// Includes item collection,  damage handling, and bomb throwing</span></strong></p>
<p class="code"><strong><span style="color:#00B050; ">&nbsp;</span></strong></p>
<p class="code"><strong><span style="color:#00B050; ">// MOVEMENT INPUT (Your existing  code)</span></strong></p>
<p class="code">var move_x = keyboard_check(vk_right) - keyboard_check(vk_left);</p>
<p class="code">var move_y = keyboard_check(vk_down)  - keyboard_check(vk_up);</p>
<p class="code">&nbsp;</p>
<p class="code">var spd = 4;</p>
<p class="code">var dx  = move_x * spd;</p>
<p class="code">var dy  = move_y * spd;</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// COLLISION CHECK &amp; MOVEMENT  (Your existing</span></strong><span style="color:#00B050; "> </span>code)</p>
<p class="code">&nbsp;</p>
<p class="code">if (dx != 0 || dy != 0) {</p>
<p class="code">    <strong><span style="color:#00B050; ">// Check full diagonal move</span></strong></p>
<p class="code">    if (!place_meeting(x +  dx, y + dy, obj_wall_plain) &amp;&amp;</p>
<p class="code">        !place_meeting(x +  dx, y + dy, obj_wall_crackedA) &amp;&amp;</p>
<p class="code">        !place_meeting(x +  dx, y + dy, obj_wall_crackedB)) {</p>
<p class="code">        x += dx;</p>
<p class="code">        y += dy;</p>
<p class="code">    } else {</p>
<p class="code">        <strong><span style="color:#00B050; ">// Try horizontal only</span></strong></p>
<p class="code">        if  (!place_meeting(x + dx, y, obj_wall_plain) &amp;&amp;</p>
<p class="code">             !place_meeting(x + dx, y, obj_wall_crackedA) &amp;&amp;</p>
<p class="code">             !place_meeting(x + dx, y, obj_wall_crackedB)) {</p>
<p class="code">            x += dx;</p>
<p class="code">        }</p>
<p class="code">&nbsp;</p>
<p class="code">        <strong><span style="color:#00B050; ">// Try vertical only</span></strong></p>
<p class="code">        if  (!place_meeting(x, y + dy, obj_wall_plain) &amp;&amp;</p>
<p class="code">             !place_meeting(x, y + dy, obj_wall_crackedA) &amp;&amp;</p>
<p class="code">             !place_meeting(x, y + dy, obj_wall_crackedB)) {</p>
<p class="code">            y += dy;</p>
<p class="code">        }</p>
<p class="code">    }</p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// SPRITE SWITCHING (Your existing  code)</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">if (move_y &lt; 0) {</p>
<p class="code">    sprite_index =  sprite_hero_back;</p>
<p class="code">} else if (move_x &gt; 0) {</p>
<p class="code">    sprite_index =  sprite_hero_right;</p>
<p class="code">} else if (move_x &lt; 0) {</p>
<p class="code">    sprite_index =  sprite_hero_left;</p>
<p class="code">} else {</p>
<p class="code">    sprite_index =  sprite_hero;</p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// NEW: ITEM COLLECTION</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// --- Collect Heart ---</span></strong></p>
<p class="code">var item_heart = instance_place(x, y, obj_heart);</p>
<p class="code">if (item_heart != noone) {</p>
<p class="code">    // Heal 1 heart</p>
<p class="code">    global.hearts += 1;</p>
<p class="code">    if (global.hearts &gt;  global.max_hearts) {</p>
<p class="code">        global.hearts = global.max_hearts;</p>
<p class="code">    }</p>
<p class="code">    </p>
<p class="code"><strong><span style="color:#C00000; ">     show_debug_message(&quot;Collected heart! Hearts: &quot; +  string(global.hearts) + &quot;/&quot; + string(global.max_hearts));</span></strong></p>
<p class="code">     instance_destroy(item_heart);</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Optional: Play sound effect</span></strong></p>
<p class="code">    <strong><span style="color:#2F5496; ">//  audio_play_sound(snd_collect_heart, 1, false);</span></strong></p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// --- Collect Apple (Gysahi  Greens style) ---</span></strong></p>
<p class="code">var item_apple = instance_place(x, y, obj_apple);</p>
<p class="code">if (item_apple != noone) {</p>
<p class="code">    global.apples += 1;</p>
<p class="code">    </p>
<p class="code">   <strong><span style="color:#C00000; "> show_debug_message(&quot;Collected apple!  Total: &quot; + string(global.apples));</span></strong></p>
<p class="code">     instance_destroy(item_apple);</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Optional: Add special effect (like in Chocobo's  Dungeon)</span></strong></p>
<p class="code"><strong><span style="color:#00B050; ">     // Could heal 1 heart or give temporary speed boost</span></strong></p>
<p class="code">    <strong><span style="color:#2F5496; ">//  audio_play_sound(snd_collect_apple, 1, false);</span></strong></p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code">// --- Collect Bomb ---</p>
<p class="code">var item_bomb = instance_place(x, y, obj_bomb);</p>
<p class="code">if (item_bomb != noone) {</p>
<p class="code">    global.bombs_held += 1;</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#C00000; ">show_debug_message(&quot;Picked up bomb! Total bombs:  &quot; + string(global.bombs_held));</span></strong></p>
<p class="code">     instance_destroy(item_bomb);</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Optional: Play sound effect</span></strong></p>
<p class="code">    <strong><span style="color:#2F5496; ">//  audio_play_sound(snd_collect_bomb, 1, false);</span></strong></p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// NEW: BOMB THROWING</span></strong></p>
<p class="code"><strong><span style="color:#00B050; ">// Press SPACE to throw a bomb</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">if (keyboard_check_pressed(vk_space)) {</p>
<p class="code">    if (global.bombs_held  &gt; 0) {</p>
<p class="code">        global.bombs_held  -= 1;</p>
<p class="code">        </p>
<p class="code">        <strong><span style="color:#00B050; ">// Determine throw direction</span></strong><span style="color:#00B050; "> <strong>based on sprite</strong></span></p>
<p class="code">        var throw_direction  = 270;  <strong><span style="color:#00B050; ">//  Default: down</span></strong></p>
<p class="code">        </p>
<p class="code">        if (sprite_index ==  sprite_hero_back) {</p>
<p class="code">            throw_direction  = 90;   <strong><span style="color:#00B050; ">//  Throw up</span></strong></p>
<p class="code">        } else if  (sprite_index == sprite_hero_right) {</p>
<p class="code">            throw_direction  = 0;    <strong><span style="color:#00B050; ">//  Throw right</span></strong></p>
<p class="code">        } else if  (sprite_index == sprite_hero_left) {</p>
<p class="code">            throw_direction  = 180;  <strong><span style="color:#00B050; ">//  Throw left</span></strong></p>
<p class="code">        } else {</p>
<p class="code">            throw_direction  = 270;  <strong><span style="color:#00B050; ">//  Throw down</span></strong></p>
<p class="code">        }</p>
<p class="code">        </p>
<p class="code">        <strong><span style="color:#00B050; ">// Create the bomb projectile slightly ahead of hero</span></strong></p>
<p class="code">        var offset_distance  = 32;  <strong><span style="color:#00B050; ">//  Spawn bomb 32 pixels ahead</span></strong></p>
<p class="code">        var bomb_x = x +  lengthdir_x(offset_distance, throw_direction);</p>
<p class="code">        var bomb_y = y +  lengthdir_y(offset_distance, throw_direction);</p>
<p class="code">        </p>
<p class="code">        var bomb =  instance_create_layer(bomb_x, bomb_y, &quot;Instances&quot;, obj_bomb_thrown);</p>
<p class="code">        bomb.direction =  throw_direction;</p>
<p class="code">        bomb.image_angle =  throw_direction;</p>
<p class="code">        </p>
<p class="code">        <strong><span style="color:#C00000; ">show_debug_message(&quot;Threw bomb! Bombs remaining:  &quot; + string(global.bombs_held));</span></strong></p>
<p class="code">        </p>
<p class="code">        <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Optional:  Play throw sound</span></strong></p>
<p class="code">        <strong><span style="color:#2F5496; ">//  audio_play_sound(snd_throw_bomb, 1, false);</span></strong></p>
<p class="code">    } else {</p>
<p class="code">         show_debug_message(&quot;No bombs to throw!&quot;);</p>
<p class="code">    }</p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// NEW: CHECK FOR HAZARDS  (Example: stepping on bomb damages you)</span></strong></p>
<p class="code"><strong><span style="color:#00B050; ">// If you have bomb hazard objects  placed in the maze</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">var hazard_bomb = instance_place(x, y, obj_hazard_bomb);</p>
<p class="code">if (hazard_bomb != noone) {</p>
<p class="code">    <strong><span style="color:#00B050; ">// Take damage</span></strong></p>
<p class="code">    global.hearts -= 1;</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#C00000; ">show_debug_message(&quot;Hit a bomb! Lost 1 heart. Hearts  remaining: &quot; + string(global.hearts));</span></strong></p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Destroy the hazard</span></strong></p>
<p class="code">     instance_destroy(hazard_bomb);</p>
<p class="code">    </p>
<p class="code">   <strong><span style="color:#00B050; "> // Check if hero  died</span></strong></p>
<p class="code">    if (global.hearts &lt;=  0) {</p>
<p class="code">        <strong><span style="color:#C00000; ">show_debug_message(&quot;Hero died! Resetting to floor  start...&quot;);</span></strong></p>
<p class="code">        </p>
<p class="code">        <strong><span style="color:#00B050; ">// Teleport back to start</span></strong></p>
<p class="code">        x =  global.hero_start_x;</p>
<p class="code">        y =  global.hero_start_y;</p>
<p class="code">        </p>
<p class="code">        <strong><span style="color:#00B050; ">// Reset hearts</span></strong></p>
<p class="code">        global.hearts = 3;</p>
<p class="code">        </p>
<p class="code"><strong><span style="color:#C00000; ">        show_debug_message(&quot;Respawned at:  (&quot; + string(x) + &quot;, &quot; + string(y) + &quot;)&quot;);</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">        show_debug_message(&quot;Hearts  restored to: &quot; + string(global.hearts));</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">     }</span></strong></p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Optional: Play damage sound and show damage animation</span></strong></p>
<p class="code">    <strong><span style="color:#323E4F; ">// </span><span style="color:#2F5496; ">audio_play_sound(snd_take_damage,  1, false);</span></strong></p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// CHECK FOR EXIT (Your existing  code)</span></strong></p>
<p class="code">if (place_meeting(x, y, obj_door)) {</p>
<p class="code">    <strong><span style="color:#C00000; ">show_debug_message(&quot;Hero reached the dungeon  exit!&quot;);</span></strong></p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Go to next floor</span></strong></p>
<p class="code">    global.current_floor +=  1;</p>
<p class="code">    <strong><span style="color:#C00000; ">show_debug_message(&quot;Advancing to floor &quot; +  string(global.current_floor));</span></strong></p>
<p class="code">    </p>
<p class="code"><strong><span style="color:#00B050; ">   </span></strong></p>
<p class="code">  <strong><span style="color:#00B050; "> //Restart room to  generate new maze (prevents infinite loop)</span><span style="color:#2F5496; "> </span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">   </span><span style="color:#00B050; ">//  at this time we have this room restart uncommented out</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">    room_restart();</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">    </span></strong></p>
<p class="code"><span style="color:#00B050; ">     // Or go to next room - or uncomment this, and comment out above</span></p>
<p class="code"><strong><span style="color:#2F5496; ">    // room_goto_next();</span></strong>}</p>
<p class="code">&nbsp;</p>
<p class="MsoNormal">Here you see the room_restart() code which is added to the  hero step event because it needs to check every second if the hero has hit the  door and if the maze needs to be recreated. We have the other option, which we  can change to when we create new rooms. Right now we just need a working maze.</p>
<img src="Images/4.png" width="566" height="276">
<p class="MsoNormal" style="text-indent:.5in;">&nbsp;</p>
<p class="MsoNormal" style="text-indent:.5in;">&nbsp;</p>
<h1>Update Code to allow for two types of bombs</h1>
<img src="Images/5.png" width="623" height="345">
<p class="MsoNormal">We actually have three, objects and 3 sprites for these  bombs. We have the object we see when we see a good bomb. That is a gold bomb.  We have the object that we see when we see a black bomb, and we have a flying  through the air object that we see when we press the space bar. So, even though  we have 2 types of bombs, we really have 3 if we want to count the flying  through the air bomb as a separate object. And we certainly do want to create a  separate object for that, because we could not add the code we wrote above for  it, if we didn&rsquo;t.</p>
<p class="MsoNormal">&nbsp;</p>
<h3>Updating Scripts for Using 3 Types of Bombs</h3>
<p class="MsoNormal">Go to the script scr_spawn_items and open it.</p>
<img src="Images/6.png" width="284" height="212">
<p class="MsoNormal">Write this code in the Script File.</p>
<p class="RecipeHeading">// ~~~~~~~~~~~~~~~~~~~~~~~~~~  SCRIPT SPAWN ITEMS ~~~~~~~~~~~~~~~~~~~</p>
<p class="code">function spawn_items_in_maze(_mazeStruct, _cellSize) {</p>
<p class="code">     show_debug_message(&quot;=== SPAWNING ITEMS IN MAZE ===&quot;);</p>
<p class="code">    </p>
<p class="code">    var m = _mazeStruct;</p>
<p class="code">    var cell_size =  _cellSize;</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Item spawn settings</span></strong></p>
<p class="code">    var spawn_chance =  0.15;  <strong><span style="color:#00B050; ">//  15% chance per cell</span></strong></p>
<p class="code">    var items_spawned = 0;</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Item weights for random selection</span></strong></p>
<p class="code">    var total_weight =  12;  // heart(2) + apple(5) +  bomb_good(3) + bomb_hazard(2)</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Go through each cell in the maze</span></strong></p>
<p class="code">    for (var i = 1; i &lt;  m.w - 1; i++) {</p>
<p class="code">        for (var j = 1; j  &lt; m.h - 1; j++) {</p>
<p class="code">            <strong><span style="color:#00B050; ">// Random chance to spawn an item</span></strong></p>
<p class="code">            if (random(1)  &lt; spawn_chance) {</p>
<p class="code">                <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Calculate  center of this cell</span></strong></p>
<p class="code">                var item_x  = i * cell_size + (cell_size / 2);</p>
<p class="code">                var item_y  = j * cell_size + (cell_size / 2);</p>
<p class="code">                </p>
<p class="code">                <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Make sure  not too close to hero or door</span></strong></p>
<p class="code">                var hero =  instance_find(object_hero, 0);</p>
<p class="code">                var door =  instance_find(obj_door, 0);</p>
<p class="code">                </p>
<p class="code">                var  too_close = false;</p>
<p class="code">                var  min_distance = 150;</p>
<p class="code">                </p>
<p class="code">                if (hero !=  noone &amp;&amp; point_distance(item_x, item_y, hero.x, hero.y) &lt;  min_distance) {</p>
<p class="code">                     too_close = true;</p>
<p class="code">                }</p>
<p class="code">                </p>
<p class="code">                if (door !=  noone &amp;&amp; point_distance(item_x, item_y, door.x, door.y) &lt;  min_distance) {</p>
<p class="code">                     too_close = true;</p>
<p class="code">                }</p>
<p class="code">                </p>
<p class="code">                <strong><span style="color:#00B050; ">// Check for wall collision</span></strong></p>
<p class="code">                if  (!too_close &amp;&amp; !position_meeting(item_x, item_y, obj_wall_plain)) {</p>
<p class="code">                    <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Randomly  select which item to spawn based on weights</span></strong></p>
<p class="code">                    var  roll = irandom(total_weight - 1);</p>
<p class="code">                    </p>
<p class="code">                    if  (roll &lt; 2) {</p>
<p class="code">                        <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Spawn heart  (weight 2: 0-1)</span></strong></p>
<p class="code">                         instance_create_layer(item_x, item_y, &quot;Instances&quot;, obj_heart);</p>
<p class="code">                         items_spawned++;</p>
<p class="code">                        <strong><span style="color:#C00000; ">show_debug_message(&quot;Spawned HEART at cell [&quot; +  string(i) + &quot;, &quot; + string(j) +</span></strong> <strong><span style="color:#C00000; ">&quot;]&quot;);</span></strong></p>
<p class="code">                        </p>
<p class="code">                    } else  if (roll &lt; 7) {</p>
<p class="code"><strong><span style="color:#00B050; ">                        // Spawn apple (weight  5: 2-6)</span></strong></p>
<p class="code">                         instance_create_layer(item_x, item_y, &quot;Instances&quot;, obj_apple);</p>
<p class="code">                         items_spawned++;</p>
<p class="code">                        <strong><span style="color:#C00000; ">show_debug_message(&quot;Spawned APPLE at cell [&quot; +  string(i) + &quot;, &quot; + string(j) +</span></strong><span style="color:#C00000; "> <strong>&quot;]&quot;);</strong></span></p>
<p class="code">                        </p>
<p class="code">                    } else  if (roll &lt; 10) {</p>
<p class="code">                        <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Spawn good  bomb pickup (weight 3: 7-9)</span></strong></p>
<p class="code">                         instance_create_layer(item_x, item_y, &quot;Instances&quot;, obj_bomb);</p>
<p class="code">                         items_spawned++;</p>
<p class="code"><strong><span style="color:#C00000; ">                        show_debug_message(&quot;Spawned  BOMB (pickup) at cell [&quot; + string(i) + &quot;, &quot; + string(j) +  &quot;]&quot;);</span></strong></p>
<p class="code">                        </p>
<p class="code">                    } else  {</p>
<p class="code"><strong><span style="color:#00B050; ">                        //</span></strong><span style="color:#00B050; "> <strong>Spawn hazard bomb (weight 2: 10-11)</strong></span></p>
<p class="code">                         instance_create_layer(item_x, item_y, &quot;Instances&quot;,  obj_hazard_bomb);</p>
<p class="code">                         items_spawned++;</p>
<p class="code">                        <strong><span style="color:#C00000; ">show_debug_message(&quot;Spawned HAZARD BOMB at cell  [&quot; + string(i) + &quot;, &quot; + string(j) + &quot;]&quot;);</span></strong></p>
<p class="code">                    }</p>
<p class="code">                }</p>
<p class="code">            }</p>
<p class="code">        }</p>
<p class="code">    }</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#C00000; ">show_debug_message(&quot;Total items spawned: &quot; +  string(items_spawned));</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">     show_debug_message(&quot;=== ITEM SPAWNING COMPLETE</span></strong><span style="color:#C00000; "> <strong>===&quot;);</strong></span></p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">// FUNCTION: Spawn Guaranteed Items (Exact Count Spawning)</p>
<p class="code"><strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Use this if you want guaranteed item counts per floor</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">function spawn_guaranteed_items(_mazeStruct, _cellSize, _hearts,  _apples, _bombs, _hazards) {</p>
<p class="code">    <strong><span style="color:#C00000; ">show_debug_message(&quot;=== SPAWNING GUARANTEED ITEMS  ===&quot;);</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">     show_debug_message(&quot;Hearts: &quot; + string(_hearts) + &quot;,  Apples: &quot; + string(_apples) + &quot;, Bombs: &quot; + string(_bombs) +  &quot;, Hazards: &quot; + string(_hazards));</span></strong></p>
<p class="code">    </p>
<p class="code">    var m = _mazeStruct;</p>
<p class="code">    var cell_size =  _cellSize;</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Create list  of available spawn positions</span></strong></p>
<p class="code">    var spawn_positions =  ds_list_create();</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">// Collect all valid spawn</span></strong><span style="color:#00B050; "> <strong>positions</strong></span></p>
<p class="code">    for (var i = 1; i &lt;  m.w - 1; i++) {</p>
<p class="code">        for (var j = 1; j  &lt; m.h - 1; j++) {</p>
<p class="code">            var pos_x = i *  cell_size + (cell_size / 2);</p>
<p class="code">            var pos_y = j *  cell_size + (cell_size / 2);</p>
<p class="code">            </p>
<p class="code">            <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Check if  position is valid (not wall, not too close to hero/door)</span></strong></p>
<p class="code">            var hero =  instance_find(object_hero, 0);</p>
<p class="code">            var door =  instance_find(obj_door, 0);</p>
<p class="code">            </p>
<p class="code">            var too_close =  false;</p>
<p class="code">            var  min_distance = 150;</p>
<p class="code">            </p>
<p class="code">            if (hero !=  noone &amp;&amp; point_distance(pos_x, pos_y, hero.x, hero.y) &lt;  min_distance) {</p>
<p class="code">                too_close =  true;</p>
<p class="code">            }</p>
<p class="code">            if (door !=  noone &amp;&amp; point_distance(pos_x, pos_y, door.x, door.y) &lt;  min_distance) {</p>
<p class="code">                too_close =  true;</p>
<p class="code">            }</p>
<p class="code">            </p>
<p class="code">            if (!too_close  &amp;&amp; !position_meeting(pos_x, pos_y, obj_wall_plain)) {</p>
<p class="code">                <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Add position  to list</span></strong></p>
<p class="code">                 ds_list_add(spawn_positions, [pos_x, pos_y, i, j]);</p>
<p class="code">            }</p>
<p class="code">        }</p>
<p class="code">    }</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#C00000; ">show_debug_message(&quot;Found &quot; +  string(ds_list_size(spawn_positions)) + &quot; valid spawn positions&quot;);</span></strong></p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Shuffle the  list</span></strong></p>
<p class="code">     ds_list_shuffle(spawn_positions);</p>
<p class="code">    </p>
<p class="code">    var items_placed = 0;</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Spawn hearts</span></strong></p>
<p class="code">    for (var h = 0; h &lt;  _hearts &amp;&amp; items_placed &lt; ds_list_size(spawn_positions); h++) {</p>
<p class="code">        var pos =  spawn_positions[| items_placed];</p>
<p class="code">         instance_create_layer(pos[0], pos[1], &quot;Instances&quot;, obj_heart);</p>
<p class="code">         show_debug_message(&quot;Placed HEART at cell [&quot; + string(pos[2]) +  &quot;, &quot; + string(pos[3]) + &quot;]&quot;);</p>
<p class="code">        items_placed++;</p>
<p class="code">    }</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Spawn apples</span></strong></p>
<p class="code">    for (var a = 0; a &lt;  _apples &amp;&amp; items_placed &lt; ds_list_size(spawn_positions); a++) {</p>
<p class="code">        var pos =  spawn_positions[| items_placed];</p>
<p class="code">         instance_create_layer(pos[0], pos[1], &quot;Instances&quot;, obj_apple);</p>
<p class="code">        <strong><span style="color:#C00000; ">show_debug_message(&quot;Placed APPLE at cell [&quot; +  string(pos[2]) + &quot;, &quot; + string(pos[3]) +</span></strong><span style="color:#C00000; "> <strong>&quot;]&quot;);</strong></span></p>
<p class="code">        items_placed++;</p>
<p class="code">    }</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Spawn good  bomb pickups (gold bombs)</span></strong></p>
<p class="code">    for (var b = 0; b &lt;  _bombs &amp;&amp; items_placed &lt; ds_list_size(spawn_positions); b++) {</p>
<p class="code">        var pos =  spawn_positions[| items_placed];</p>
<p class="code">         instance_create_layer(pos[0], pos[1], &quot;Instances&quot;, obj_bomb);</p>
<p class="code">        <strong><span style="color:#C00000; ">show_debug_message(&quot;Placed BOMB (pickup) at cell  [&quot; + string(pos[2]) + &quot;, &quot; + string(pos[3]) +</span></strong><span style="color:#C00000; "> &quot;]&quot;);</span></p>
<p class="code">        items_placed++;</p>
<p class="code">    }</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">Spawn hazard  bombs (black bombs</span></strong>)</p>
<p class="code">    for (var z = 0; z &lt;  _hazards &amp;&amp; items_placed &lt; ds_list_size(spawn_positions); z++) {</p>
<p class="code">        var pos =  spawn_positions[| items_placed];</p>
<p class="code">         instance_create_layer(pos[0], pos[1], &quot;Instances&quot;,  obj_hazard_bomb);</p>
<p class="code">        <strong><span style="color:#C00000; ">show_debug_message(&quot;Placed HAZARD BOMB at cell  [&quot; + string(pos[2]) + &quot;, &quot; + string(pos[3])</span></strong><span style="color:#C00000; "> <strong>+ &quot;]&quot;);</strong></span></p>
<p class="code">        items_placed++;</p>
<p class="code">    }</p>
<p class="code">    </p>
<p class="code">     ds_list_destroy(spawn_positions);</p>
<p class="code">    </p>
<p class="code">    <strong><span style="color:#C00000; ">show_debug_message(&quot;Total items placed: &quot; +  string(items_placed));</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">     show_debug_message(&quot;=== GUARANTEED ITEM SPAWNING COMPLETE  ===&quot;);</span></strong></p>
<p class="code">}</p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="BoldRed">The end of the Item spawning code</p>
<p class="RecipeHeading">//~~~~~~~~~~~~~~~~~~~~~~   The Controller ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</p>
<p class="MsoNormal">Now we want to also make some changes for the controller  object. Go to the object Controller and change this code in the Create Event</p>
<img src="Images/7.png" width="322" height="175">
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;===  INITIALIZING ITEM SYSTEM ===&quot;);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">global.hearts = 3;              <strong><span style="color:#00B050; ">// Starting lives</span></strong></p>
<p class="code">global.max_hearts = 5;          <strong><span style="color:#00B050; ">// Maximum hearts</span></strong></p>
<p class="code">global.apples = 0;              <strong><span style="color:#00B050; ">// Gysahi Greens counter</span></strong></p>
<p class="code">global.bombs_held = 0;          <strong><span style="color:#00B050; ">// Bombs in inventory</span></strong></p>
<p class="code">global.current_floor = 1;       <strong><span style="color:#00B050; ">// Current dungeon floor</span></strong></p>
<p class="code">global.hero_start_x = 0;        <strong><span style="color:#00B050; ">// Will be saved after spawn</span></strong></p>
<p class="code">global.hero_start_y = 0;        <strong><span style="color:#00B050; ">// Will be saved after spawn</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Hearts:  &quot; + string(global.hearts) + &quot;/&quot; + string(global.max_hearts));</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Floor:  &quot; + string(global.current_floor));</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;=== ITEM</span></strong><span style="color:#C00000; "> <strong>SYSTEM READY ===&quot;);</strong></span></p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">// STEP 2: GENERATE MAZE (Your existing code)</p>
<p class="code">var target_width = 1280;</p>
<p class="code">var target_height = 704;</p>
<p class="code">var cell_size = 128;</p>
<p class="code">&nbsp;</p>
<p class="code">var maze_width = floor(target_width / cell_size);</p>
<p class="code">var maze_height = floor(target_height / cell_size);</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;===  CREATING MAZE FOR NEW ROOM SIZE ===&quot;);</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Room  dimensions: &quot; + string(target_width) + &quot; x &quot; +  string(target_height));</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Creating  maze: &quot; + string(maze_width) + &quot; x &quot; + string(maze_height) +  &quot; cells&quot;);</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Cell  size: &quot; + string(cell_size) + &quot;px&quot;);</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Wall  size: 32px&quot;);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">var time_seed = get_timer();</p>
<p class="code">random_set_seed(time_seed);</p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Random  seed set to: &quot; + string(time_seed));</span></strong></p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;Testing  random values: &quot; + string(irandom(100))</span></strong><span style="color:#C00000; "> <strong>+ &quot;, &quot; + string(irandom(100)) + &quot;, &quot; +  string(irandom(100)));</strong></span></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">// Create and generate the maze</span></strong></p>
<p class="code">global.myMaze = new maze(&quot;recursive_backtrack&quot;,  maze_width, maze_height);</p>
<p class="code">maze_generate(global.myMaze);</p>
<p class="code">&nbsp;</p>
<p class="code"><span style="color:#00B050; ">//</span> <strong><span style="color:#00B050; ">Spawn  the maze walls</span></strong></p>
<p class="code">spawn_maze_walls(global.myMaze, cell_size, 0, 0);</p>
<p class="code">&nbsp;</p>
<p class="code">// <strong><span style="color:#00B050; ">Spawn hero and door</span></strong></p>
<p class="code">spawn_object_in_opening(global.myMaze.heroWallSide,  global.myMaze.heroPosition, cell_size, global.myMaze.w, global.myMaze.h,  object_hero, &quot;Hero&quot;);</p>
<p class="code">spawn_object_in_opening(global.myMaze.doorWallSide,  global.myMaze.doorPosition, cell_size, global.myMaze.w, global.myMaze.h,  obj_door, &quot;Door&quot;);</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;=== MAZE  SETUP COMPLETE ===&quot;);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">// STEP 3: SAVE HERO STARTING POSITION</p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;===  SAVING HERO START POSITION</span></strong><span style="color:#C00000; "> <strong>===&quot;);</strong></span></p>
<p class="code">&nbsp;</p>
<p class="code">var hero = instance_find(object_hero, 0);</p>
<p class="code">if (hero != noone) {</p>
<p class="code">    global.hero_start_x =  hero.x;</p>
<p class="code">    global.hero_start_y =  hero.y;</p>
<p class="code">    </p>
<p class="code"><span style="color:#C00000; ">     show_debug_message(&quot;Hero start position saved: (&quot; +  string(global.hero_start_x) + &quot;, &quot; + string(global.hero_start_y) +  &quot;)&quot;);</span></p>
<p class="code"><span style="color:#C00000; ">} else {</span></p>
<p class="code"><span style="color:#C00000; ">     show_debug_message(&quot;WARNING: Could not find hero to save  position!&quot;);</span></p>
<p class="code"><span style="color:#C00000; ">}</span></p>
<p class="code">&nbsp;</p>
<p class="code">&nbsp;</p>
<p class="RecipeeBody">// STEP 4: SPAWN ITEMS IN MAZE</p>
<p class="code"><strong><span style="color:#00B050; ">// Balanced spawning: 1-2 of each  item type</span></strong></p>
<p class="code"><strong><span style="color:#00B050; ">&nbsp;</span></strong></p>
<p class="code"><strong><span style="color:#00B050; ">// Random amount between 1-2 for  each item</span></strong></p>
<p class="code">var hearts_to_spawn = irandom_range(1, 2);</p>
<p class="code">var apples_to_spawn = irandom_range(1, 2);</p>
<p class="code">var bombs_to_spawn = irandom_range(1, 2);</p>
<p class="code">var hazards_to_spawn = irandom_range(0, 2);  // 0-2 hazard bombs</p>
<p class="code">&nbsp;</p>
<p class="code">spawn_guaranteed_items(global.myMaze, cell_size, hearts_to_spawn,  apples_to_spawn, bombs_to_spawn, hazards_to_spawn);</p>
<p class="code">&nbsp;</p>
<p class="code"><span style="color:#00B050; ">// Alternative methods (comment out  the above and uncomment one of these):</span></p>
<p class="code"><span style="color:#00B050; ">// OPTION 1: Pure random spawning  (adjust spawn_chance in function) Right now the first one is uncommented out.</span></p>
<p class="code"><strong><span style="color:#2F5496; ">spawn_items_in_maze(global.myMaze, cell_size);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#00B050; ">//</span></strong> <strong><span style="color:#00B050; ">OPTION 2: Fixed exact counts (hearts, apples, good bombs,  hazard bombs)</span></strong></p>
<p class="code"><strong><span style="color:#2F5496; ">//</span></strong> <strong><span style="color:#2F5496; ">spawn_guaranteed_items(global.myMaze, cell_size, 2, 2, 2,  1);</span></strong></p>
<p class="code">&nbsp;</p>
<p class="code"><strong><span style="color:#C00000; ">show_debug_message(&quot;===  DUNGEON FLOOR &quot; + string(global.current_floor) + &quot; READY</span></strong><span style="color:#C00000; "> <strong>===&quot;);</strong></span></p>
<p class="code"><strong><span style="color:#C00000; ">&nbsp;</span></strong></p>
<p class="MsoNormal">Well, that is it for our bombs. In our next section, we will  be taking a look at how we can show messages on the screen for the player to  see.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">&nbsp;</p>





</article>

  
<footer class="footer"> ~ by StarsInDust ~  &#169 2023 –
<script type="text/javascript" src ="../../../../JavaScript/FooterYearlyDate.js">
</script></footer>


  <script type="text/javascript" src ="../../../../JavaScript/responsiveImage.js">
</script>   
       
</body>
</html>